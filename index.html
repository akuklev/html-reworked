<!DOCTYPE html>
<html lang='en'>
<head>
  <title>Better HTML</title>
  <link rel="preload" href="components/xtag.tag" as="script">
  <link rel="preload" href="stylesheets/style.css" as="style">
  <link rel="preload" href="//cdn.jsdelivr.net/riot/3.4/riot+compiler.min.js" as="script">
  <link rel='stylesheet' type="text/css" href='stylesheets/style.css'>
</head>

There is only one way to keep a rich text document truly accessible: its source
must be readable as plain text, the only aid allowed being pretty-printing.
HTML was designed to be like that, but it fails miserably since twenty years.<br/>
<h2>Fixing it</h2>
Take HTML5, leave out bizarre syntax for CDATA, entities and comments, add
back notation for empty tags (as in <code>&lt;br/&gt;</code>) from XML, and close-any tags (<code>&lt;/&gt;</code>)
from SGML, settle on syntax for [expression] interpolation and directives (<code>@if</code>, <code>@each</code>, <code>@prettyprint</code>, etc.).
Introduce special syntax for special attribute types (IDs and classes), <a href='css-reworked'>unify other attributes with cascading styles</a>.<br/>
<br/>
Work out pretty-printing<abbr title="Stop hindering pretty-printing by treating line-breaks near tags as whitespaces.">*</abbr> making tags look more like compound brackets and restoring the symmetry between opening and closing ones:<br/>
<xtag type='Div' xid='sample'><div class='cindented'>
  This is a text block with ID=“sample”. Styles/options come after the tag and<wbr/>
  ID enclosed in braces: <xtag type='Image' xopts='src: ./smiley.png'></xtag>.
  Directives come right after,<wbr/>
  as in this optional <xtag type='Button' xid='play' xdirs='@if(ui-active)'></xtag>. Classes <xtag type='Span' xclass='term'>can</xtag><wbr/>
  be ascribed as dot-subscipts to tags. <xtag type='Span' xclass='\{hide:&nbsp;!show-details\}'>Dynamic classes<wbr/>
  are supported as well. Short-cut notation <code style='font-size: small;'>.\{name\};</code> stands for <code style='font-size: small;'>.\{name: name\}</code>.</xtag><wbr/>
  To support <xtag type='' xopts='ref: //en.wikipedia.org/wiki/Markdown' short={true}>Markdown</xtag>-like notation for<wbr/>
  links and <xtag type='Image' xopts='src: ./figure.png' short={true}>figures</xtag>,
  attributes should be allowed to<wbr/> be placed alternatively in closing tags and tag type should default to spans/<wbr/>hyperlinks if left empty.</div>
</xtag>
<br/><br/>  
Note, that Markdown supports inline HTML and <xtag type='' xid="ref1" short={true}>endorces</xtag> using HTML whenever
appropriate, thus it can be easily combined with refined HTML.<br/><br/>
  
<code style='font-weight: bold;'>@rule</code> <code style='font-size: small;'>#ref1</code> <code style='font-size: smaller;'>{ref: //daringfireball.net/projects/markdown/syntax}</code> 
<br/>
<!--
Since our refined stylesheets can define new tags, they should be considered a
part of the DTD, so we propose the following type declaration format:
<pre><code>&lt;!<b>DOCTYPE</b> html @<b>with</b> /path/to/stylesheet&gt;</code></pre>
<pre><code>&lt;!<b>DOCTYPE</b> html @<b>with</b> [
  @import <a href='css-reworked'>./common.css</a> screen, projection;
  @import <a href='css-reworked'>./landscape.css</a> screen and (orientation:landscape);
  ... // embedded stylesheet
]&gt;</code></pre>
-->

<script src='components/xtag.tag' type='riot/tag'></script>
<script src='//cdn.jsdelivr.net/riot/3.4/riot+compiler.min.js'></script>
<script> riot.mount('*') </script>
</html>
