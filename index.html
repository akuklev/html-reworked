<!DOCTYPE html>
<html lang='en'>
<head>
  <title>Better HTML</title>
  <link rel="preload" href="components/xtag.tag" as="script">
  <link rel="preload" href="stylesheets/style.css" as="style">
  <link rel="preload" href="//cdn.jsdelivr.net/riot/3.0/riot+compiler.min.js" as="script">
  <link rel='stylesheet' type="text/css" href='stylesheets/style.css'>
</head>

There is only one way to keep a rich text document truly accessible: its source
must be readable as plain text, the only aid allowed being pretty-printing.
HTML was designed to be like that, but it fails miserably since 20 years.<wbr/>
Markdown &amp; other lightweight markup languages do master it, but they fail at extenstensibility and
overuse cryptic ![](markup), where words do just as good.<br/>
<span class='slogan'>Can we fix HTML?</span>
<br/>
<h2>Refined HTML</h2>
<xtag type='Div' xid='sample'><div class='cindented'>
  This is a text block with ID=“sample”. Styles/options come after the tag and<wbr/>
  ID enclosed in braces: <xtag type='Image' xopts='src: ./smiley.png'></xtag>.
  Directives come right after, <wbr/>
  as in this optional <xtag type='Button' xid='play' xdirs='@if(ui-active)'></xtag>. Classes <xtag type='Span' xclass='term'>can</xtag><wbr/>
  be ascribed as dot-subscipts to tags. <xtag type='Span' xclass='&#123;hide:&nbsp;!show-details)'>Dynamic classes<wbr/>
  are supported as well. Short-cut notation <code style='font-size: small;'>.&#123;name);</code> stands for <code style='font-size: small;'>.&#123;name: name)</code>.</xtag><wbr/>
  To support <xtag type='' xopts='ref: //en.wikipedia.org/wiki/Markdown' short={true}>Markdown</xtag>-like notation for<wbr/>
  links and <xtag type='Image' xopts='src: ./figure.png' short={true}>figures</xtag>,
  attributes should be allowed to<wbr/> be placed alternatively in closing tags and tag type should default to spans/<wbr/>hyperlinks if left empty.</div>
</xtag>
  
<h2>The Recipe</h2>
Take HTML5, leave out bizarre syntax for CDATA, entities and comments, add
back notation for empty tags (as in <code>&lt;br/&gt;</code>) from XML, and close-any tags (<code>&lt;/&gt;</code>)
from SGML, settle on syntax for [expression] interpolation and processing-directives (<code>@if</code>, <code>@each</code>, <code>@prettyprint</code>, etc.).
Introduce special syntax for special attribute types (IDs and classes), <a href='css-reworked'>unify other attributes with cascading styles</a>.<br/>
<br/>
Stop hindering line-breaking by treating breaks near to tags as whitespaces, work out pretty-printing representing tags more like compound brackets, less
like a part of the text, regain the symmetry between opening and closing tags.<br/>
<br/>
Since our refined stylesheets can define new tags, they should be considered a
part of the DTD, so we propose the following type declaration format:
<pre><code>&lt;!<b>DOCTYPE</b> html @<b>with</b> /path/to/stylesheet&gt;</code></pre>
<pre><code>&lt;!<b>DOCTYPE</b> html @<b>with</b> [
  @import <a href='css-reworked'>./common.css</a> screen, projection;
  @import <a href='css-reworked'>./landscape.css</a> screen and (orientation:landscape);
  ... // embedded stylesheet
]&gt;</code></pre>

  
<h2>Refined Markdown</h2>
Markdown was developed to augment HTML, not to replace it, so it supports inline HTML and its <xtag type='' xid="ref1" short={true}>documentation</xtag> endorces to use HTML whenever it seems appropriate. Thus Markdown based
Refined HTML, doesn't need any special syntax for hyperlinks and images. That's what Refined Markdown is:
based on Refined HTML with superfluous syntax removed. Since I love how Markdown handles emphasis, line breaks,
headings, lists, quotations and code, I'd like to use to Refined Markdown for everything I write from blog
entries to scientific articles and embedded software documentation.<br/><br/>
  
<code style='font-weight: bold;'>@rule</code> <code>#ref1</code> <code style='font-size: smaller;'>{ref: //daringfireball.net/projects/markdown/syntax}</code>

<h2>Beyond Web</h2>
Equipped with a comprehensible library of components (such as date picker, spinner,
etc.) and the complete set of layout tags (<code>&lt;tabstop/&gt;</code>,
<code>&lt;run-in/&gt;</code>, <code>&lt;inline/&gt;</code>,
<code>&lt;block/&gt;</code>, <code>&lt;inline-block/&gt;</code>,
<code>&lt;flex/&gt;</code>, <code>&lt;inline-flex/&gt;</code>,
<code>&lt;float/&gt;</code>, <code>&lt;overlay/&gt;</code> and table stuff),
both enabled by <a href="css-reworked">Refined CSS</a>, Refined HTML
also makes a perfect language for designing interactive visual UIs.<br/>

Alternatively, it can be used as a source format for printed media (we mostly
envisage scientific articles): a large subset of Refined HTML can be typeset
by TeX and the other way round, all TeX macros can be converted to tags with
little or no hints.
<br/>
Refs: <a href='http://akuklev.livejournal.com/1173309.html'>//akuklev.livejournal.com/1173309</a>

<script src='components/xtag.tag' type='riot/tag'></script>
<script src='//cdn.jsdelivr.net/riot/3.0/riot+compiler.min.js'></script>
<script> riot.mount('*') </script>
</html>
