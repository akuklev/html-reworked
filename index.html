<!DOCTYPE html>
<html lang='en'>
<head>
  <title>Better HTML</title>
  <link rel="preload" href="components/xtag.tag">
  <link rel="preload" href="stylesheets/style.css" as="style">
  <link rel="preload" href="//cdn.jsdelivr.net/riot/3.4/riot+compiler.min.js" as="script">
  <link rel='stylesheet' type="text/css" href='stylesheets/style.css'>
</head>
  
There is only one way to keep a rich text document truly accessible: its source
must be readable as plain text, the only aid allowed being pretty-printing.
HTML was designed to be like that, but it fails miserably since twenty years.<br/>
<h2>Fixing it</h2>
Take HTML5, leave out bizarre syntax for CDATA, entities and comments, add
back notation for empty tags (<code>&lt;br/&gt;</code>) from XML, and close-any tags (<code>&lt;/&gt;</code>)
from SGML, settle on syntax for [expression] interpolation and directives (<code>@if</code>, <code>@each</code>, etc).
Introduce special syntax for special attribute types (IDs and classes) and <a href='css-reworked'>unify all other attributes with cascading styles</a>.<br/>
<br/>
Work out pretty-printing<abbr title="Stop hindering pretty-printing by treating line-breaks near tags as whitespaces.">*</abbr>
making tags look more like compound brackets and restoring the symmetry between opening and closing ones.<br/><br/>
<xtag type='Div' xid='sample'><div class='cindented'>
  This is a text block with ID=“sample”. Styles/options come after the tag and
  ID enclosed in braces: <xtag type='Image' xopts='src: ./smiley.png'></xtag>.
  Directives come right after,
  as in this optional <xtag type='Button' xid='play' xdirs='@if(ui-active)'></xtag>. Classes <xtag type='Span' xclass='term'>can</xtag>
  be ascribed as dot-subscipts to tags. <xtag type='Span' xclass='\{hide:&nbsp;!show-details\}'>Dynamic classes
  are supported as well. Short-cut notation <code style='font-size: small;'>.\{name\};</code> stands for <code style='font-size: small;'>.\{name: name\}</code>.</xtag>
  To support <xtag type='' xid="ref2" short={true}>Markdown</xtag>-like syntax for <xtag type='Image' xopts='src: ./figure.png' short={true}>figures</xtag>
  and links, attributes should be allowed to be placed alternatively in closing tags and tag type should default to spans/hyperlinks if left empty. 
  </div>
</xtag><br/><br/>
<code style='font-weight: bold;'>@rule</code> <code style='font-size: small;'>#ref2</code> <code style='font-size: smaller;'>{ref: //en.wikipedia.org/wiki/Markdown}</code>  

<script src='components/xtag.tag' type='riot/tag'></script>
<script src='//cdn.jsdelivr.net/riot/3.4/riot+compiler.min.js'></script>
<script> riot.mount('*') </script>
</html>
